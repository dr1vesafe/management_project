{% extends "base.html" %}

{% block title %}Редактирование оценки{% endblock %}

{% block content %}
<div class="container mt-5">
  <h2 class="mb-4">Редактирование оценки задачи: {{ evaluation.task.title }}</h2>

  <form method="post" action="/evaluations/{{ evaluation.id }}/edit">
    <div class="mb-3">
      <label for="grade" class="form-label">Оценка</label>
      <select name="grade" id="grade" class="form-select">
        {% for g in grades %}
          <option value="{{ g.value }}" {% if evaluation.grade == g %}selected{% endif %}>{{ g.value }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="mb-3">
      <label for="comment" class="form-label">Комментарий</label>
      <textarea name="comment" id="comment" class="form-control">{{ evaluation.comment }}</textarea>
    </div>

    <button type="submit" class="btn btn-primary">Сохранить</button>
    <a href="/evaluations/task/{{ evaluation.task_id }}" class="btn btn-secondary">Отмена</a>
  </form>

  <form method="post" action="/evaluations/{{ evaluation.id }}/delete" class="mt-3"
        onsubmit="return confirm('Вы уверены, что хотите удалить оценку?');">
    <button type="submit" class="btn btn-danger">Удалить оценку</button>
  </form>
</div>
{% endblock %}
